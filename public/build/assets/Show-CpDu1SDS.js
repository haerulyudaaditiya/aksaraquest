import{_ as D}from"./AuthenticatedLayout-BdjgZ9Bd.js";import{l as L,A as O,D as A,c as b,b as g,u as E,h as F,w,a as c,t as x,k as M,o as P,m as C,j as T,F as W}from"./app-884A-9UK.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-xb_cJ4QM.js";import"./ResponsiveNavLink-DnlrPkpP.js";/*!
 * Signature Pad v5.1.1 | https://github.com/szimek/signature_pad
 * (c) 2025 Szymon Nowak | Released under the MIT license
 */var y=class{x;y;pressure;time;constructor(h,t,e,i){if(isNaN(h)||isNaN(t))throw new Error(`Point is invalid: (${h}, ${t})`);this.x=+h,this.y=+t,this.pressure=e||0,this.time=i||Date.now()}distanceTo(h){return Math.sqrt(Math.pow(this.x-h.x,2)+Math.pow(this.y-h.y,2))}equals(h){return this.x===h.x&&this.y===h.y&&this.pressure===h.pressure&&this.time===h.time}velocityFrom(h){return this.time!==h.time?this.distanceTo(h)/(this.time-h.time):0}},I=class U{constructor(t,e,i,s,n,l){this.startPoint=t,this.control2=e,this.control1=i,this.endPoint=s,this.startWidth=n,this.endWidth=l}static fromPoints(t,e){const i=this.calculateControlPoints(t[0],t[1],t[2]).c2,s=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new U(t[1],i,s,t[2],e.start,e.end)}static calculateControlPoints(t,e,i){const s=t.x-e.x,n=t.y-e.y,l=e.x-i.x,r=e.y-i.y,a={x:(t.x+e.x)/2,y:(t.y+e.y)/2},d={x:(e.x+i.x)/2,y:(e.y+i.y)/2},o=Math.sqrt(s*s+n*n),u=Math.sqrt(l*l+r*r),m=a.x-d.x,f=a.y-d.y,p=o+u==0?0:u/(o+u),_={x:d.x+m*p,y:d.y+f*p},v=e.x-_.x,S=e.y-_.y;return{c1:new y(a.x+v,a.y+S),c2:new y(d.x+v,d.y+S)}}length(){let e=0,i,s;for(let n=0;n<=10;n+=1){const l=n/10,r=this.point(l,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(l,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const d=r-i,o=a-s;e+=Math.sqrt(d*d+o*o)}i=r,s=a}return e}point(t,e,i,s,n){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*s*(1-t)*t*t+n*t*t*t}},z=class{_et;constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(h,t,e){this._et.addEventListener(h,t,e)}dispatchEvent(h){return this._et.dispatchEvent(h)}removeEventListener(h,t,e){this._et.removeEventListener(h,t,e)}};function N(h,t=250){let e=0,i=null,s,n,l;const r=()=>{e=Date.now(),i=null,s=h.apply(n,l),i||(n=null,l=[])};return function(...d){const o=Date.now(),u=t-(o-e);return n=this,l=d,u<=0||u>t?(i&&(clearTimeout(i),i=null),e=o,s=h.apply(n,l),i||(n=null,l=[])):i||(i=window.setTimeout(r,u)),s}}var $=class k extends z{constructor(t,e={}){super(),this.canvas=t,this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle=e.throttle??16,this.minDistance=e.minDistance??5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions=e.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?N(k.prototype._strokeUpdate,this.throttle):k.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}dotSize;minWidth;maxWidth;penColor;minDistance;velocityFilterWeight;compositeOperation;backgroundColor;throttle;canvasContextOptions;_ctx;_drawingStroke=!1;_isEmpty=!0;_dataUrl;_dataUrlOptions;_lastPoints=[];_data=[];_lastVelocity=0;_lastWidth=0;_strokeMoveUpdate;_strokePointerId;clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const t=this._data,e=this._dataUrl,i=this._dataUrlOptions;this.clear(),e&&this.fromDataURL(e,i),this.fromData(t,{clear:!1})}fromDataURL(t,e={}){return new Promise((i,s)=>{const n=new Image,l=e.ratio||window.devicePixelRatio||1,r=e.width||this.canvas.width/l,a=e.height||this.canvas.height/l,d=e.xOffset||0,o=e.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,d,o,r,a),i()},n.onerror=u=>{s(u)},n.crossOrigin="anonymous",n.src=t,this._isEmpty=!1,this._dataUrl=t,this._dataUrlOptions={...e}})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const t=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}_removeMoveUpEventListeners(){const{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,e){return e?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){const e=t.changedTouches[0];return{event:t,type:t.type,x:e.clientX,y:e.clientY,pressure:e.force}}_handleMouseDown(t){!this._isLeftButtonPressed(t,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(t))}_handleMouseMove(t){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}_handleMouseUp(t){this._isLeftButtonPressed(t)||this._strokeEnd(this._pointerEventToSignatureEvent(t))}_handleTouchStart(t){t.targetTouches.length!==1||this._drawingStroke||(t.cancelable&&t.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(t)))}_handleTouchMove(t){if(t.targetTouches.length===1){if(t.cancelable&&t.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(t),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(t))}}_handleTouchEnd(t){t.targetTouches.length===0&&(t.cancelable&&t.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(t)))}_getPointerId(t){return t.persistentDeviceId||t.pointerId}_allowPointerId(t,e=!1){return typeof this._strokePointerId>"u"?e:this._getPointerId(t)===this._strokePointerId}_handlePointerDown(t){this._drawingStroke||!this._isLeftButtonPressed(t)||!this._allowPointerId(t,!0)||(this._strokePointerId=this._getPointerId(t),t.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(t)))}_handlePointerMove(t){if(this._allowPointerId(t)){if(!this._isLeftButtonPressed(t,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(t),!1);return}t.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(t))}}_handlePointerUp(t){this._isLeftButtonPressed(t)||!this._allowPointerId(t)||(t.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(t)))}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;const{addEventListener:i}=this._getListenerFunctions();switch(t.event.type){case"mousedown":i("mousemove",this._handleMouseMove,{passive:!1}),i("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":i("touchmove",this._handleTouchMove,{passive:!1}),i("touchend",this._handleTouchEnd,{passive:!1});break;case"pointerdown":i("pointermove",this._handlePointerMove,{passive:!1}),i("pointerup",this._handlePointerUp,{passive:!1});break}this._drawingStroke=!0;const s=this._getPointGroupOptions(),n={...s,points:[]};this._data.push(n),this._reset(s),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const e=this._createPoint(t.x,t.y,t.pressure),i=this._data[this._data.length-1],s=i.points,n=s.length>0&&s[s.length-1],l=n?e.distanceTo(n)<=this.minDistance:!1,r=this._getPointGroupOptions(i);if(!n||!(n&&l)){const a=this._addPoint(e,r);n?a&&this._drawCurve(a,r):this._drawDot(e,r),s.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,e=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(t),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,i){const s=this.canvas.getBoundingClientRect();return new y(t-s.left,e-s.top,i,new Date().getTime())}_addPoint(t,e){const{_lastPoints:i}=this;if(i.push(t),i.length>2){i.length===3&&i.unshift(i[0]);const s=this._calculateCurveWidths(i[1],i[2],e),n=I.fromPoints(i,s);return i.shift(),n}return null}_calculateCurveWidths(t,e,i){const s=i.velocityFilterWeight*e.velocityFrom(t)+(1-i.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(s,i),l={end:n,start:this._lastWidth};return this._lastVelocity=s,this._lastWidth=n,l}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,i){const s=this._ctx;s.moveTo(t,e),s.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){const i=this._ctx,s=t.endWidth-t.startWidth,n=Math.ceil(t.length())*2;i.beginPath(),i.fillStyle=e.penColor;for(let l=0;l<n;l+=1){const r=l/n,a=r*r,d=a*r,o=1-r,u=o*o,m=u*o;let f=m*t.startPoint.x;f+=3*u*r*t.control1.x,f+=3*o*a*t.control2.x,f+=d*t.endPoint.x;let p=m*t.startPoint.y;p+=3*u*r*t.control1.y,p+=3*o*a*t.control2.y,p+=d*t.endPoint.y;const _=Math.min(t.startWidth+d*s,e.maxWidth);this._drawCurveSegment(f,p,_)}i.closePath(),i.fill()}_drawDot(t,e){const i=this._ctx,s=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;i.beginPath(),this._drawCurveSegment(t.x,t.y,s),i.closePath(),i.fillStyle=e.penColor,i.fill()}_fromData(t,e,i){for(const s of t){const{points:n}=s,l=this._getPointGroupOptions(s);if(n.length>1)for(let r=0;r<n.length;r+=1){const a=n[r],d=new y(a.x,a.y,a.pressure,a.time);r===0&&this._reset(l);const o=this._addPoint(d,l);o&&e(o,l)}else this._reset(l),i(n[0],l)}}toSVG({includeBackgroundColor:t=!1,includeDataUrl:e=!1}={}){const i=this._data,s=Math.max(window.devicePixelRatio||1,1),n=0,l=0,r=this.canvas.width/s,a=this.canvas.height/s,d=document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.setAttribute("xmlns","http://www.w3.org/2000/svg"),d.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("viewBox",`${n} ${l} ${r} ${a}`),d.setAttribute("width",r.toString()),d.setAttribute("height",a.toString()),t&&this.backgroundColor){const o=document.createElement("rect");o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("fill",this.backgroundColor),d.appendChild(o)}if(e&&this._dataUrl){const o=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,u=this._dataUrlOptions?.width||this.canvas.width/o,m=this._dataUrlOptions?.height||this.canvas.height/o,f=this._dataUrlOptions?.xOffset||0,p=this._dataUrlOptions?.yOffset||0,_=document.createElement("image");_.setAttribute("x",f.toString()),_.setAttribute("y",p.toString()),_.setAttribute("width",u.toString()),_.setAttribute("height",m.toString()),_.setAttribute("preserveAspectRatio","none"),_.setAttribute("href",this._dataUrl),d.appendChild(_)}return this._fromData(i,(o,{penColor:u})=>{const m=document.createElement("path");if(!isNaN(o.control1.x)&&!isNaN(o.control1.y)&&!isNaN(o.control2.x)&&!isNaN(o.control2.y)){const f=`M ${o.startPoint.x.toFixed(3)},${o.startPoint.y.toFixed(3)} C ${o.control1.x.toFixed(3)},${o.control1.y.toFixed(3)} ${o.control2.x.toFixed(3)},${o.control2.y.toFixed(3)} ${o.endPoint.x.toFixed(3)},${o.endPoint.y.toFixed(3)}`;m.setAttribute("d",f),m.setAttribute("stroke-width",(o.endWidth*2.25).toFixed(3)),m.setAttribute("stroke",u),m.setAttribute("fill","none"),m.setAttribute("stroke-linecap","round"),d.appendChild(m)}},(o,{penColor:u,dotSize:m,minWidth:f,maxWidth:p})=>{const _=document.createElement("circle"),v=m>0?m:(f+p)/2;_.setAttribute("r",v.toString()),_.setAttribute("cx",o.x.toString()),_.setAttribute("cy",o.y.toString()),_.setAttribute("fill",u),d.appendChild(_)}),d.outerHTML}};const G={class:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm sm:text-base"},R={class:"font-semibold text-lg sm:text-xl text-gray-800 leading-tight capitalize"},V={class:"py-8 sm:py-12 bg-slate-100"},j={class:"max-w-full sm:max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},q={class:"fade-in-up bg-white border-2 border-slate-800 overflow-hidden shadow-[8px_8px_0_#1e293b] rounded-xl sm:rounded-2xl"},X={class:"p-6 sm:p-8 grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 items-start"},Y={class:"fade-in-up flex flex-col items-center justify-center bg-slate-50 border-2 border-slate-200 rounded-xl p-8 sm:p-12 aspect-square"},H={class:"text-8xl sm:text-9xl md:text-[12rem] font-bold text-slate-800 font-sunda"},J={class:"relative flex items-center gap-3 mt-4"},K={class:"text-3xl sm:text-4xl font-medium text-indigo-600 capitalize"},Q={class:"flex flex-col space-y-6 sm:space-y-8 fade-in-up"},Z={class:"text-slate-600 leading-relaxed text-sm sm:text-base"},tt={class:"w-full aspect-video border-2 border-slate-800 rounded-xl overflow-hidden bg-white fade-in-up"},et={__name:"Show",props:{aksara:Object,lesson:Object},setup(h){const t=h,e=()=>{t.aksara.audio_url&&new Audio(t.aksara.audio_url).play()},i=L(null);let s=null;const n=()=>{if(i.value){const r=Math.max(window.devicePixelRatio||1,1);i.value.width=i.value.offsetWidth*r,i.value.height=i.value.offsetHeight*r,i.value.getContext("2d").scale(r,r),s&&s.clear()}},l=()=>s?.clear();return O(()=>{s=new $(i.value,{backgroundColor:"rgb(255, 255, 255)",penColor:"rgb(30, 41, 59)"}),n(),window.addEventListener("resize",n);const r=new IntersectionObserver(a=>{a.forEach(d=>{d.isIntersecting&&(d.target.classList.add("animate-fade-in-up"),r.unobserve(d.target))})},{threshold:.1});document.querySelectorAll(".fade-in-up").forEach(a=>r.observe(a))}),A(()=>{window.removeEventListener("resize",n)}),(r,a)=>(P(),b(W,null,[g(E(F),{title:`Aksara ${h.aksara.latin}`},null,8,["title"]),g(D,null,{header:w(()=>[c("div",G,[g(E(C),{href:r.route("belajar.index"),class:"font-medium text-indigo-600 hover:text-indigo-800 transition"},{default:w(()=>[...a[0]||(a[0]=[T(" Jalur Pembelajaran ",-1)])]),_:1},8,["href"]),h.lesson?(P(),b(W,{key:0},[a[1]||(a[1]=c("span",{class:"text-gray-400"},"/",-1)),g(E(C),{href:r.route("belajar.lesson.show",h.lesson.id),class:"font-medium text-indigo-600 hover:text-indigo-800 transition"},{default:w(()=>[T(x(h.lesson.title),1)]),_:1},8,["href"])],64)):M("",!0),a[2]||(a[2]=c("span",{class:"text-gray-400"},"/",-1)),c("h2",R,x(h.aksara.latin),1)])]),default:w(()=>[c("div",V,[c("div",j,[c("div",q,[c("div",X,[c("div",Y,[c("p",H,x(h.aksara.character),1),c("div",J,[c("p",K,x(h.aksara.latin),1),h.aksara.audio_url?(P(),b("button",{key:0,onClick:e,class:"text-gray-400 hover:text-indigo-600 transition duration-300",title:"Dengarkan Pengucapan"},[...a[3]||(a[3]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"currentColor"},[c("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})],-1)])])):M("",!0)])]),c("div",Q,[c("div",null,[a[4]||(a[4]=c("h3",{class:"text-xl sm:text-2xl font-extrabold text-slate-900 mb-2"},"Filosofi & Makna",-1)),c("p",Z,x(h.aksara.philosophy),1)]),c("div",null,[a[5]||(a[5]=c("h3",{class:"text-xl sm:text-2xl font-extrabold text-slate-900 mb-2"},"Latihan Menulis",-1)),c("div",tt,[c("canvas",{ref_key:"canvas",ref:i,class:"w-full h-full"},null,512)]),c("button",{onClick:l,class:"mt-4 w-full bg-indigo-500 text-white font-bold py-3 px-4 border-2 border-slate-800 rounded-xl shadow-[4px_4px_0_#1e293b] hover:bg-indigo-600 hover:-translate-y-0.5 active:translate-y-0 active:shadow-[2px_2px_0_#1e293b] transition-all"}," Bersihkan Kanvas ")])])])])])])]),_:1})],64))}},rt=B(et,[["__scopeId","data-v-165551d1"]]);export{rt as default};
