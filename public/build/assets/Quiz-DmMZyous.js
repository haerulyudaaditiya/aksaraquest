import{_ as p}from"./AuthenticatedLayout-BdjgZ9Bd.js";import{l as h,B as k,c as s,b as m,u as q,h as z,w as g,a as t,t as r,C,k as c,o as a,F as b,r as A,n as S,j as w,p as B}from"./app-884A-9UK.js";import"./ApplicationLogo-xb_cJ4QM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-DnlrPkpP.js";const N={key:0,class:"font-semibold text-lg sm:text-xl text-gray-800 leading-tight"},j={key:1,class:"font-semibold text-lg sm:text-xl text-gray-800 leading-tight"},Q={class:"font-sunda"},L={key:2,class:"font-semibold text-lg sm:text-xl text-red-600 leading-tight animate-pulse"},V={key:3,class:"font-semibold text-lg sm:text-xl text-gray-800 leading-tight"},I={class:"py-8 sm:py-12 bg-slate-100"},M={class:"max-w-md sm:max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"mb-4"},E={class:"text-base sm:text-lg text-slate-600 font-bold mb-2 text-center sm:text-left"},F={class:"bg-slate-200 rounded-full h-4 sm:h-5 border-2 border-slate-800 shadow-[4px_4px_0_#1e293b]"},H={class:"bg-white border-2 border-slate-800 overflow-hidden shadow-[8px_8px_0_#1e293b] rounded-2xl"},O={class:"p-6 sm:p-8"},P={key:0,class:"text-center mb-8"},R={class:"text-xl sm:text-2xl font-bold text-slate-900 mb-4"},W={class:"h-40 sm:h-48 flex items-center justify-center"},Z={key:0,class:"text-8xl sm:text-9xl font-bold text-slate-800 font-sunda"},$={key:2,class:"text-slate-300"},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},J=["onClick","disabled"],te={__name:"Quiz",props:{quiz:Object,question:Object,totalQuestions:Number,answeredCount:Number},setup(e){const o=e,d=h(!1),x=h(null),u=h(null),v=()=>{o.question&&o.question.aksara&&o.question.aksara.audio_url&&new Audio(o.question.aksara.audio_url).play()},_=i=>{d.value=!0,x.value=i,u.value=i===o.question.correct_answer?"correct":"incorrect",u.value==="correct"?new Audio("/audio/correct.mp3").play():new Audio("/audio/wrong.mp3").play(),setTimeout(()=>{B.post(route("arena.quiz.answer",o.quiz.id),{question_id:o.question.id,user_answer:i},{preserveState:!1,preserveScroll:!0,onSuccess:()=>{x.value=null,u.value=null,d.value=!1},onError:()=>{d.value=!1}})},1200)},f=i=>{if(!d.value)return"bg-white shadow-[4px_4px_0_#d1d5db] hover:bg-slate-50 active:shadow-[2px_2px_0_#d1d5db] active:translate-y-0.5";const n=i===x.value,l=i===o.question.correct_answer;return l?"bg-green-400 border-green-600 shadow-[4px_4px_0_#15803d] text-white":n&&!l?"bg-red-400 border-red-600 shadow-[4px_4px_0_#b91c1c] text-white":u.value==="incorrect"&&l?"bg-green-400 border-green-600 shadow-[4px_4px_0_#15803d] text-white":"bg-slate-200 border-slate-300 text-slate-400 cursor-not-allowed"},y=k(()=>o.answeredCount/o.totalQuestions*100);return(i,n)=>(a(),s(b,null,[m(q(z),{title:"Quiz Berlangsung"}),m(p,null,{header:g(()=>[e.quiz.type==="lesson"?(a(),s("h2",N," Latihan: "+r(e.quiz.lesson.title),1)):e.quiz.type==="focus"?(a(),s("h2",j,[n[0]||(n[0]=w(" Tinjauan Latihan: ",-1)),t("span",Q,r(e.quiz.aksara.character),1),w(" ("+r(e.quiz.aksara.latin)+") ",1)])):e.quiz.type==="certification"?(a(),s("h2",L," UJIAN SERTIFIKASI ")):(a(),s("h2",V," Arena Latihan Acak "))]),default:g(()=>[t("div",I,[t("div",M,[t("div",T,[t("p",E," Pertanyaan "+r(e.answeredCount+1)+" dari "+r(e.totalQuestions),1),t("div",F,[t("div",{class:"bg-green-500 h-full rounded-full transition-all duration-500",style:C({width:y.value+"%"})},null,4)])]),t("div",H,[t("div",O,[e.question?(a(),s("div",P,[t("h3",R,r(e.question.body),1),t("div",W,[e.question.type==="character_to_latin"?(a(),s("div",Z,r(e.question.character),1)):c("",!0),e.question.type.startsWith("audio_")?(a(),s("button",{key:1,onClick:v,class:"text-indigo-500 border-4 border-indigo-500 rounded-full p-6 sm:p-8 transition active:scale-95"},[...n[1]||(n[1]=[t("svg",{class:"h-12 w-12 sm:h-16 sm:w-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})],-1)])])):c("",!0),e.question.type==="latin_to_character"?(a(),s("div",$,[...n[2]||(n[2]=[t("svg",{class:"h-24 w-24 sm:h-32 sm:w-32",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})],-1)])])):c("",!0)])])):c("",!0),t("div",D,[(a(!0),s(b,null,A(e.question.options,l=>(a(),s("button",{key:l,onClick:K=>_(l),disabled:d.value,class:S([f(l),"w-full uppercase font-bold tracking-wider text-slate-800 border-2 border-slate-800 rounded-2xl p-4 text-center transition duration-150",{"font-sunda text-4xl":e.question.type.endsWith("_character")}])},r(l),11,J))),128))])])])])])]),_:1})],64))}};export{te as default};
