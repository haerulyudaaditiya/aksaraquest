import{f as C,l as y,c as d,b as s,u as l,h as I,w as a,a as e,o as i,F as h,r as E,t as f,g as j,j as u,T as S,k as T,p as O}from"./app-884A-9UK.js";import{_ as K}from"./AdminLayout-CmyA_RMz.js";import{P as B}from"./PrimaryButton-CoDxkJkp.js";import{a as D,D as M,_ as $}from"./DangerButton-TMUHVGHH.js";import{_ as b}from"./InputLabel-D1YVoGKk.js";import{_ as x}from"./TextInput-BxWtTkF8.js";import"./ApplicationLogo-xb_cJ4QM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-DnlrPkpP.js";const W={class:"font-semibold text-xl text-gray-800 leading-tight"},Z={class:"py-12 bg-slate-100"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8"},q={class:"bg-white border-2 border-slate-800 overflow-hidden shadow-[8px_8px_0_#1e293b] rounded-2xl p-6 sm:p-8"},z={key:0,class:"space-y-8"},G={class:"font-bold text-slate-500 uppercase mb-2"},J={class:"flex flex-wrap items-center gap-2"},Q={class:"font-sunda text-2xl"},R={class:"text-xs text-slate-500"},X=["onClick"],tt={key:1,class:"text-slate-500 text-center py-8"},et={class:"bg-white border-2 border-slate-800 overflow-hidden shadow-[8px_8px_0_#1e293b] rounded-2xl p-6 sm:p-8"},st={class:"space-y-2"},lt={key:0,class:"text-sm text-green-600 font-bold text-center sm:text-left"},at={class:"bg-white border-2 border-slate-800 rounded-2xl shadow-[8px_8px_0_#1e293b] p-6 sm:p-8 m-4"},ot={class:"mt-6 flex flex-col sm:flex-row sm:justify-between items-center gap-4"},rt={class:"flex items-center gap-4 w-full sm:w-auto"},nt={key:0,class:"text-sm text-green-600 font-bold mt-4 text-center sm:text-right"},dt={class:"bg-white border-2 border-slate-800 rounded-2xl shadow-[8px_8px_0_#1e293b] p-6 sm:p-8 m-4"},it={class:"flex items-start gap-4"},ut={class:"mt-2 text-slate-600"},mt={class:"font-bold font-sunda"},pt={class:"mt-6 flex justify-end gap-4"},ht={__name:"ContentEditor",props:{story:Object,paragraphs:Object},setup(p){const F=p,r=C({aksara_word:"",latin_word:"",paragraph_number:1}),P=()=>{r.post(route("admin.stories.content.store",F.story.id),{preserveScroll:!0,onSuccess:()=>r.reset()})},c=y(null),n=C({aksara_word:"",latin_word:""}),U=m=>{c.value=m,n.aksara_word=m.aksara_word,n.latin_word=m.latin_word,n.reset()},_=()=>{c.value=null},L=()=>{n.put(route("admin.story-contents.update",c.value.id),{preserveScroll:!0,onSuccess:()=>{setTimeout(()=>{_()},1e3)}})},g=y(!1),w=y(null),N=m=>{w.value=m,g.value=!0},H=()=>{O.delete(route("admin.story-contents.destroy",w.value.id),{preserveScroll:!0,onSuccess:()=>k()})},k=()=>{g.value=!1,w.value=null},A=()=>{N(c.value),_()};return(m,t)=>(i(),d(h,null,[s(l(I),{title:`Editor Konten: ${p.story.title}`},null,8,["title"]),s(K,null,{header:a(()=>[e("h2",W," Editor Konten: "+f(p.story.title),1)]),default:a(()=>[e("div",Z,[e("div",Y,[e("div",q,[t[6]||(t[6]=e("h3",{class:"text-2xl font-extrabold text-slate-900 mb-6 border-b-2 border-slate-800 pb-4"},"Isi Cerita",-1)),Object.keys(p.paragraphs).length>0?(i(),d("div",z,[(i(!0),d(h,null,E(p.paragraphs,(o,V)=>(i(),d("div",{key:V},[e("p",G,"Paragraf "+f(V),1),e("div",J,[(i(!0),d(h,null,E(o,v=>(i(),d("div",{key:v.id,class:"group relative bg-slate-50 border-2 border-slate-300 rounded-lg p-2"},[e("p",Q,f(v.aksara_word),1),e("p",R,f(v.latin_word),1),e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer",onClick:ct=>U(v)},[...t[5]||(t[5]=[e("span",{class:"font-bold text-white hover:underline"},"Edit",-1)])],8,X)]))),128))])]))),128))])):(i(),d("div",tt," Belum ada konten untuk dongeng ini. Mulai tambahkan entri di bawah. "))]),e("div",et,[t[8]||(t[8]=e("h3",{class:"text-2xl font-extrabold text-slate-900 mb-4"},"Tambah Entri Baru",-1)),e("form",{onSubmit:j(P,["prevent"]),class:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end"},[e("div",null,[s(b,{for:"aksara_word",value:"Teks Aksara",class:"font-bold"}),s(x,{id:"aksara_word",modelValue:l(r).aksara_word,"onUpdate:modelValue":t[0]||(t[0]=o=>l(r).aksara_word=o),type:"text",class:"mt-1 block w-full font-sunda"},null,8,["modelValue"])]),e("div",null,[s(b,{for:"latin_word",value:"Teks Latin",class:"font-bold"}),s(x,{id:"latin_word",modelValue:l(r).latin_word,"onUpdate:modelValue":t[1]||(t[1]=o=>l(r).latin_word=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[s(b,{for:"paragraph_number",value:"Nomor Paragraf",class:"font-bold"}),s(x,{id:"paragraph_number",modelValue:l(r).paragraph_number,"onUpdate:modelValue":t[2]||(t[2]=o=>l(r).paragraph_number=o),type:"number",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",st,[s(B,{disabled:l(r).processing,class:"w-full justify-center"},{default:a(()=>[...t[7]||(t[7]=[u("Tambah",-1)])]),_:1},8,["disabled"]),s(S,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:a(()=>[l(r).recentlySuccessful?(i(),d("p",lt,"Ditambahkan.")):T("",!0)]),_:1})])],32)])])]),s(D,{show:c.value!==null,onClose:_},{default:a(()=>[e("div",at,[t[12]||(t[12]=e("h2",{class:"text-xl font-extrabold text-slate-900 mb-4"},"Edit Entri",-1)),e("form",{onSubmit:j(L,["prevent"]),class:"space-y-4"},[e("div",null,[s(b,{value:"Teks Aksara",class:"font-bold"}),s(x,{modelValue:l(n).aksara_word,"onUpdate:modelValue":t[3]||(t[3]=o=>l(n).aksara_word=o),type:"text",class:"mt-1 block w-full font-sunda"},null,8,["modelValue"])]),e("div",null,[s(b,{value:"Teks Latin",class:"font-bold"}),s(x,{modelValue:l(n).latin_word,"onUpdate:modelValue":t[4]||(t[4]=o=>l(n).latin_word=o),type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",ot,[s(M,{type:"button",onClick:A,class:"w-full sm:w-auto justify-center"},{default:a(()=>[...t[9]||(t[9]=[u(" Hapus Entri ",-1)])]),_:1}),e("div",rt,[s($,{type:"button",onClick:_,class:"w-full justify-center"},{default:a(()=>[...t[10]||(t[10]=[u(" Batal ",-1)])]),_:1}),s(B,{disabled:l(n).processing,class:"w-full justify-center"},{default:a(()=>[...t[11]||(t[11]=[u(" Simpan Perubahan ",-1)])]),_:1},8,["disabled"])])]),s(S,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:a(()=>[l(n).recentlySuccessful?(i(),d("p",nt,"Tersimpan.")):T("",!0)]),_:1})],32)])]),_:1},8,["show"]),s(D,{show:g.value,onClose:k},{default:a(()=>[e("div",dt,[e("div",it,[t[16]||(t[16]=e("div",{class:"flex-shrink-0 bg-red-100 p-3 rounded-xl border-2 border-slate-800"},[e("svg",{class:"h-8 w-8 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])],-1)),e("div",null,[t[15]||(t[15]=e("h2",{class:"text-xl font-extrabold text-slate-900"},"Hapus Entri Ini?",-1)),e("p",ut,[t[13]||(t[13]=u("Anda yakin ingin menghapus entri ",-1)),e("span",mt,f(w.value?.aksara_word),1),t[14]||(t[14]=u(" secara permanen?",-1))])])]),e("div",pt,[s($,{onClick:k},{default:a(()=>[...t[17]||(t[17]=[u(" Batal ",-1)])]),_:1}),s(M,{onClick:H},{default:a(()=>[...t[18]||(t[18]=[u(" Ya, Hapus Permanen ",-1)])]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{ht as default};
